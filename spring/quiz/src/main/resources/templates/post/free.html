<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>나의 게시판</title>
    <link rel="stylesheet" href="/css/free.css">
</head>
<body>
<header>
    <div class="topMenu">
        <a href="/posts/notice">공지사항</a>
        <a href="/posts/qna">질문과 답변</a>
    </div>

<!--    <nav>-->
<!--        <ul>-->
<!--            <li class="dropdown">-->
<!--                <a href="javascript:void(0)" class="dropbtn">게시판 선택</a>-->
<!--                <div class="dropdown-content">-->
<!--&lt;!&ndash;                    <a href="/posts/free">자유게시판</a>&ndash;&gt;-->
<!--                    <a href="/posts/notice">공지사항</a>-->
<!--                    <a href="/posts/qna">질문과 답변</a>-->
<!--                </div>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </nav>-->
</header>
<div class="container">
    <h1>자유게시판</h1>
    <table>
        <tr>
            <th class="no">No</th>
            <th class="title">제목</th>
            <th class="username">글쓴이</th>
            <th class="createdDate">작성시간</th>
            <th class="view">조회수</th>
        </tr>
        <tr th:each="post, stat : ${posts}">
            <td th:text="${totalElements - (currentPage * size) - (stat.index)}" class="no"></td>
            <td class="title" id="contentTitle">
                <a th:text="${post.title}" th:href="@{/posts/content/{id}(id=${post.id})}"></a>
            </td>
            <td th:text="${post.username}" class="username"></td>
            <td th:text="${#temporals.format(post.createdDate, 'yyyy-MM-dd HH:mm')}" class="createdDate"></td>
            <td class="views" th:text="${post.views}"></td>
        </tr>
    </table>
    <div class="pagination">
        <a th:classappend="${currentPage == 0} ? 'disabled' : ''"
           th:if="${currentPage > 0}"
           th:href="@{/posts(page=${currentPage - 1}, size=${size})}">이전</a>

        <a th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
           th:href="@{/posts(page=${i}, size=${size})}"
           th:text="${i + 1}"
           th:classappend="${i == currentPage} ? 'active' : ''"></a>

        <a th:classappend="${currentPage == totalPages - 1} ? 'disabled' : ''"
           th:if="${currentPage < totalPages - 1}"
           th:href="@{/posts(page=${currentPage + 1}, size=${size})}">다음</a>
    </div>
    <div th:if="${message}" th:text="${message}"></div>
    <a href="/posts/new" id="writePost">글쓰기</a>
</div>
</body>
</html>